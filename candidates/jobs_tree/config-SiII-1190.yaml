# COLT config file
--- !mcrt                     # Monte Carlo radiative transfer module

init_dir: ics_tree            # Initial conditions directory (default: "ics")
init_base: colt               # Initial conditions base name (optional)
output_dir: output_tree       # Output directory name (default: "output")
output_base: SiII-1190        # Output file base name (default: "colt")

# Information about sources
cosmological: true            # Indicates whether the simulation is cosmological
T_ceiling: 1e6                # Apply a temperature ceiling: T [K]
line: SiII-1190-1193            # Name of the line (default "Lyman-alpha")
v_turb_kms: 10                # Microturbulent velocity [km/s]
# T_turb: 1e4                   # Microturbulent temperature [K]
# T_floor: 1e3                  # Apply a temperature floor [K]
# output_mcrt_emission: true    # Output intrinsic emission without transport (mcrt)
# output_mcrt_attenuation: true # Output attenuated emission without scattering (mcrt)
#output_proj_emission: true    # Output intrinsic emission without transport (proj)
#output_proj_attenuation: true # Output attenuated emission without scattering (proj)
# pixel_rtol: 1e-2              # Relative tolerence per pixel
output_mcrt_emission: true

# thermal_ionization: true   # Set ionization states based on threshold temperatures
# set_density_from_mass: true   # Calculate density as mass / volume
# dust_to_metal: 0.4            # Dust-to-metal ratio
# dust_model: SMC                # Dust model: SMC, MW, etc.
dust_model_graphite: /home/arsmith/colt/tables/graphite_dust.hdf5
dust_model_silicate: /home/arsmith/colt/tables/silicate_dust.hdf5
dust_model_PAH: /home/arsmith/colt/tables/PAH_dust.hdf5
f_PAH: 0.01                   # Fraction of carbonaceous dust in PAHs

# read_ionized_fraction: true   # Read x_HII from the input file
# read_electron_fraction: true  # Read x_e from the input file
# read_helium_fraction: true     # Read Y from the input file
# read_hydrogen_fraction: true   # Read X from the input file
# constant_temperature: 1e5
# SiII_fraction: 1               # Enforce a constant SiII fraction: x_SiII

n_photons: 1000000            # Number of photon packets (10^6)
# n_photons: 10000000           # Number of photon packets (10^7)
# n_photons: 100000000          # Number of photon packets (10^8)
# n_photons: 2000000000         # Number of photon packets (10^9)
j_exp: 0.75                    # Luminosity boosting exponent
continuum: true               # Include UV continuum emission
continuum_range: [-2000, 2300] # Continuum velocity offset range [km/s]
source_model: BPASS-IMF-135-100 # Spectral source model

# Information about escape
output_photons: false         # Output escaped photon packets
#output_photons: true          # Output escaped photon packets
#photon_file: photons          # Output a separate photon file
spherical_escape: true        # Photons escape from a sphere
escape_radius_bbox: 0.75      # Escape radius relative to the bbox
emission_radius_bbox: 0.5     # Emission radius relative to the bbox

# Information about cameras
poly_cameras: tetrahedron     # Polygon-based camera configuration
# n_exp: 0                      # Camera healpix directions exponent
# cameras:                      # Add camera directions manually
#   - [0,0,1]
# focus_cameras_on_emission: true      # Focus cameras on emission
# radial_pixel_arcsec: 0.01            # Observed angular width of each radial image pixel [arcseconds]

# Frequency
output_freq_stds: true        # Output frequency standard deviations (default: false)
output_flux_avg: true         # Output angle-averaged spectral flux
freq_range: [-1350, 1650]     # Camera frequency range [km/s]
n_bins: 500                   # Number of frequency bins

# Images
output_freq2_images: true     # Frequency moment images (default: false)
image_radius_bbox: 0.5        # Image radius relative to the bbox (1 Rvir)
n_pixels: 512                 # Number of image pixels

# Radial images
output_radial_images: true    # Output radial surface brightness images [erg/s/cm^2/arcsec^2]
radial_image_radius_bbox: 0.75 # Radial image radius relative to the bbox (2 Rvir)
n_radial_pixels: 512          # Number of radial image pixels

# Spectral radial images
output_radial_cubes: true     # Output radial spectral data cubes [erg/s/cm^2/arcsec^2/angstrom]
radial_cube_radius_bbox: 0.75  # Radial cube radius relative to the bbox (2 Rvir)
n_radial_cube_pixels: 512     # Number of radial cube pixels
radial_cube_freq_range: [-1080, 1320] # Camera frequency range [km/s]
n_radial_cube_bins: 200       # Number of frequency bins

# Spectral data cubes
output_cubes: true            # Surface brightness cubes (defualt: false)
cube_radius_bbox: 0.5         # Cube radius relative to the bbox (2 Rvir)
n_cube_pixels: 128            # Number of cube pixels
cube_freq_range: [-1080, 1320]  # Camera frequency range [km/s]
n_cube_bins: 100              # Number of frequency bins

# Maps
output_map: true              # Output escape fraction maps
output_map2: true             # Output escape fraction maps (and statistics)
output_freq2_map: true        # Output frequency^2 group maps
n_side_map: 5                 # Healpix resolution for group maps

# Flux maps
output_flux_map: true         # Output spectral flux group maps
n_side_flux: 3                # Healpix resolution for group flux maps
map_freq_range: [-1080, 1320] # Healpix frequency range [km/s]
n_map_bins: 100               # Number of frequency bins for group flux maps

# Radial maps
output_radial_map: true       # Output radial surface brightness group maps
n_side_radial: 3              # Healpix resolution for group radial maps
map_radius_bbox: 0.75         # Radial maps radius [bounding box]
# min_map_radius_pc: 0.5        # Minimum radial distance for maps [pc]
n_map_pixels: 120             # Number of radial pixels for radial maps

# Radial averages
output_radial_avg: true       # Output angle-averaged radial surface brightness
radial_avg_radius_bbox: 0.75  # Radial average radius relative to the bbox (2 Rvir)
n_radial_avg_pixels: 512      # Number of radial pixels for radial avgs

# Spectral radial averages
output_radial_cube_avg: true  # Output angle-averaged radial spectral surface brightness
radial_cube_avg_radius_bbox: 0.75 # Radial cube average radius relative to the bbox (2 Rvir)
n_radial_cube_avg_pixels: 256 # Number of radial pixels for radial cube avgs
radial_cube_avg_freq_range: [-1080, 1320] # Camera frequency range [km/s]
n_radial_cube_avg_bins: 200   # Number of frequency bins for radial cube avgs

# Radial flow statistics
radial_flow:                  # Radial flow statistics
  radial_logspace_pc: [0, 5, 51] # Logarithmically spaced radial bins [pc]
focus_radial_on_emission: true
shift_radial_on_emission: true

#verbose: true                 # Verbose output for tests and debugging